<!DOCTYPE html><html lang="en-US" class="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Ingress tools</title><link rel="canonical" href="https://mvolfik.github.io/"><link rel="icon" type="image/jpeg" sizes="64x64" href="/favicon.jpg"><meta name="description" content="Ingress is an augmented-reality GPS game, an ever-lasting battle of two factions. The game provides an online real-time game map, and each faction develops its own, private set of tools that operate on the game data and facilitate planning and monitoring operations. One the tools I created helps with preparing efficient game plans.

For tactical advantage, the code isn't public, but I'll be happy to present some parts of it if you reach out.
"><meta property="og:title" content="Ingress tools"><meta property="og:locale" content="en_US"><meta property="og:description" content="Ingress is an augmented-reality GPS game, an ever-lasting battle of two factions. The game provides an online real-time game map, and each faction develops its own, private set of tools that operate on the game data and facilitate planning and monitoring operations. One the tools I created helps with preparing efficient game plans.

For tactical advantage, the code isn't public, but I'll be happy to present some parts of it if you reach out.
"><meta property="og:url" content="https://mvolfik.github.io/"><meta property="og:site_name" content="Matěj Volf"><meta property="og:type" content="website"><meta property="twitter:title" content="Ingress tools"><script type="module">function i(e,t){if(window.location.hostname==="localhost"||localStorage.getItem("plausible_ignore")==="true")return;const n={name:e,url:window.location.href,domain:"mvolfik.github.io",referrer:document.referrer||null,screen_width:window.innerWidth};t&&(n.props=JSON.stringify(t)),navigator.sendBeacon("https://an.evavolfova.cz/api/event",JSON.stringify(n))}i("pageview");document.addEventListener("click",e=>{if(e.target.href===void 0)return;const t=new URL(e.target.href);t.origin!==window.location.origin&&i("Outbound Link: Click",{url:t.toString()})});document.querySelectorAll("a").forEach(e=>{const t=e.lastChild;t.nodeType===Node.TEXT_NODE&&(t.textContent=t.textContent.trimEnd())});</script><link rel="stylesheet" href="/_astro/archive.CKYBq7hs.css">
<style>body{--tag-1: #099812;--tag-2: #096698;--tag-3: #980980}.wrapper[data-astro-cid-6vkduold]{max-width:50em;margin:0 auto}.banner[data-astro-cid-6vkduold]{margin:calc(-1 * var(--outer-top-margin)) calc(-1 * var(--outer-margin)) 1em;height:min(50vh,20em);position:relative}.banner[data-astro-cid-6vkduold] img{max-width:100%;max-height:100%;object-fit:cover}.banner[data-astro-cid-6vkduold] h1[data-astro-cid-6vkduold]{position:absolute;z-index:5;left:50%;top:55%;transform:translate(-50%,-50%);background-color:var(--bg-lightly-transparent);color:var(--fg-high-contrast);font-variant:small-caps;padding:.6em 1em;border-radius:.1em;text-align:center}main[data-astro-cid-6vkduold]>p img{max-width:100%;height:auto}.metadata[data-astro-cid-6vkduold]{font-size:1.15em}.tags[data-astro-cid-6vkduold]{font-weight:400;font-variant:small-caps;margin:0 .5em}.tags[data-astro-cid-6vkduold]>span[data-astro-cid-6vkduold]:nth-of-type(n){color:var(--tag-3)}.tags[data-astro-cid-6vkduold]>span[data-astro-cid-6vkduold]:nth-of-type(odd){color:var(--tag-2)}.tags[data-astro-cid-6vkduold]>span[data-astro-cid-6vkduold]:nth-of-type(3n+1){color:var(--tag-1)}
._switchLabel_zxb4a_1{display:block;position:absolute;top:1.5em;right:3em;z-index:99;background-color:var(--bg-lightly-transparent);color:var(--fg-high-contrast);padding:.3em .6em .3em .3em;border-radius:.2em;cursor:pointer}@media not print{html.dark ._switchLabel_zxb4a_1{color:#fff}}@media not screen{._switchLabel_zxb4a_1{display:none}}
</style></head> <body> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="swvlo" component-url="/_astro/DarkModeSwitch.myvWb0OF.js" component-export="default" renderer-url="/_astro/client.CJc7N0Z8.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;DarkModeSwitch&quot;,&quot;value&quot;:true}"></astro-island>  <div class="wrapper" data-astro-cid-6vkduold> <div class="banner" data-astro-cid-6vkduold> <picture data-astro-cid-6vkduold="true"> <source srcset="/_astro/ingress-bg.B0Dh3bUF_15P9Du.webp 640w, /_astro/ingress-bg.B0Dh3bUF_Z1aykCt.webp 750w, /_astro/ingress-bg.B0Dh3bUF_Z1eMPSu.webp 828w, /_astro/ingress-bg.B0Dh3bUF_1yKV6a.webp 1080w, /_astro/ingress-bg.B0Dh3bUF_Z5DrnS.webp 1280w, /_astro/ingress-bg.B0Dh3bUF_ZDqHfr.webp 1668w" type="image/webp" sizes="(min-width: 48.6em) 48.6em, 100vw">  <img src="/_astro/ingress-bg.B0Dh3bUF_Zcv4bE.jpg" srcset="/_astro/ingress-bg.B0Dh3bUF_1A1Jq3.jpg 640w, /_astro/ingress-bg.B0Dh3bUF_ZFmJPU.jpg 750w, /_astro/ingress-bg.B0Dh3bUF_ZJBg6V.jpg 828w, /_astro/ingress-bg.B0Dh3bUF_1E3FND.jpg 1080w, /_astro/ingress-bg.B0Dh3bUF_ZlGFp.jpg 1280w, /_astro/ingress-bg.B0Dh3bUF_Zy8WwX.jpg 1668w" alt="Cover image" loading="eager" sizes="(min-width: 48.6em) 48.6em, 100vw" data-astro-cid-6vkduold="true" decoding="async" fetchpriority="auto" style="--fit: cover; --pos: center;" data-astro-image="full-width" width="1920" height="853"> </picture> <h1 data-astro-cid-6vkduold>Ingress tools</h1> </div> <main data-astro-cid-6vkduold> <p class="noprint" data-astro-cid-6vkduold> <a href="/archive" data-astro-cid-6vkduold>&larr; back to archive</a> </p> <p class="metadata" data-astro-cid-6vkduold>
Tags: <span class="tags" data-astro-cid-6vkduold> <span data-astro-cid-6vkduold>Python</span>, <span data-astro-cid-6vkduold>algorithms</span> </span> </p> <p class="metadata" data-astro-cid-6vkduold>Timespan: May 2020 – January 2021</p> <p class="metadata" data-astro-cid-6vkduold> <a target="_blank" href="https://ingress.com/game/" data-astro-cid-6vkduold> About Ingress </a> </p> <p data-astro-cid-6vkduold><p>Ingress is an augmented-reality GPS game, an ever-lasting battle of two factions. The game provides an online real-time game map, and each faction develops its own, private set of tools that operate on the game data and facilitate planning and monitoring operations. One the tools I created helps with preparing efficient game plans.</p>
<p>For tactical advantage, the code isn&#39;t public, but I&#39;ll be happy to present some parts of it if you reach out.</p>
</p> <h2 id="link-cleaner">Link cleaner</h2>
<p>In Ingress, you have many “portals” positioned all over the world, and the main goal is to create links between portals that form triangular fields. However, these links between the portals can’t cross each other. So one common pattern is to create two “anchor” portals, and then link many “spine” portals onto them. Here’s what it looks like:</p>
<p><img src="/src/assets/onion.png" alt="A so-called onion field"></p>
<p>However, planning these fields efficiently is quite time-consuming. So I created this tool which takes a large area of portals and the two anchor ones, and creates the highest possible amount of fields whose links don’t intersect. That requires a surprising amount of algorithmic complexity, including spherical geometry (since Ingress is played on the Earth, a globe) and approximating NP-hard problems.</p> </main> <footer data-astro-cid-6vkduold> <p data-astro-cid-6vkduold> <small data-astro-cid-6vkduold>
Powered by <a href="https://astro.build/" data-astro-cid-6vkduold>Astro</a>; Hosted on GitHub
          Pages
</small> </p> </footer> </div>  </body></html> 